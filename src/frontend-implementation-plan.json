{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Fix static photo/audio assets and autoplay background music",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Ship the 6 uploaded WhatsApp JPEGs as public static assets and ensure they load without 404s in production.",
      "acceptanceCriteria": [
        "All 6 uploaded images are present under frontend/public/assets/photos/preloaded/ (or an equivalent public static directory) and are accessible by direct URL in production.",
        "Loading the Photos section shows the preloaded gallery immediately (no user upload required) and does not display broken-image icons.",
        "Browser console shows no 404 errors for any preloaded photo asset."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.27.00 AM-1.jpeg",
          "operation": "create",
          "description": "Add the uploaded photo to the public static directory so it is served directly in production."
        },
        {
          "path": "frontend/public/assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.59 AM (2)-1.jpeg",
          "operation": "create",
          "description": "Add the uploaded photo to the public static directory so it is served directly in production."
        },
        {
          "path": "frontend/public/assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.58 AM-1.jpeg",
          "operation": "create",
          "description": "Add the uploaded photo to the public static directory so it is served directly in production."
        },
        {
          "path": "frontend/public/assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.59 AM-1.jpeg",
          "operation": "create",
          "description": "Add the uploaded photo to the public static directory so it is served directly in production."
        },
        {
          "path": "frontend/public/assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.58 AM (1)-1.jpeg",
          "operation": "create",
          "description": "Add the uploaded photo to the public static directory so it is served directly in production."
        },
        {
          "path": "frontend/public/assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.59 AM (1)-1.jpeg",
          "operation": "create",
          "description": "Add the uploaded photo to the public static directory so it is served directly in production."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Update the preloaded gallery list to reference the exact shipped filenames (including “-1” suffixes).",
      "acceptanceCriteria": [
        "frontend/src/content/preloadedPhotos.ts references the exact filenames actually shipped in frontend/public/assets/photos/preloaded/.",
        "The gallery renders all 6 photos in the slider/thumbnails without requiring URL encoding fixes by the user."
      ],
      "file_operations": [
        {
          "path": "frontend/src/content/preloadedPhotos.ts",
          "operation": "modify",
          "description": "Replace the preloaded photo URL list with the exact static paths for: /assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.27.00 AM-1.jpeg, /assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.59 AM (2)-1.jpeg, /assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.58 AM-1.jpeg, /assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.59 AM-1.jpeg, /assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.58 AM (1)-1.jpeg, /assets/photos/preloaded/WhatsApp Image 2026-02-15 at 11.26.59 AM (1)-1.jpeg."
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Remove the dedicated Audio Section UI and play the friendship song as continuous background music starting from the beginning with an autoplay fallback after first interaction.",
      "acceptanceCriteria": [
        "There is no visible “Our Friendship Song” section in the main content.",
        "Background audio begins at timestamp 0 when playback starts and continues playing as the user scrolls through the site.",
        "If autoplay is blocked by the browser, the app starts playback immediately after the user’s first interaction (e.g., clicking “Open Your Birthday Gifts”), without showing a separate song section."
      ],
      "file_operations": [
        {
          "path": "frontend/src/App.tsx",
          "operation": "modify",
          "description": "Remove the on-page “Our Friendship Song” section and AudioSection import/usage, and add a hidden looping HTMLAudioElement wired to start playback from timestamp 0 on first user interaction (e.g., the existing “Open Your Birthday Gifts” click) and persist across scrolling."
        },
        {
          "path": "frontend/src/components/AudioSection.tsx",
          "operation": "delete",
          "description": "Remove the dedicated audio UI component file so the app no longer renders a separate song section."
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Bundle the friendship song MP3 as a public static asset at the exact path used by the app.",
      "acceptanceCriteria": [
        "An MP3 exists at frontend/public/assets/audio/tamil-friendship-song.mp3 and is fetchable in production (no 404).",
        "Browser console shows no audio asset load errors, and playback succeeds once allowed by the browser’s autoplay policy."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/audio/tamil-friendship-song.mp3",
          "operation": "create",
          "description": "Add the friendship song audio file to the public static directory at the exact path referenced by the background audio implementation so it is fetchable in production."
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Add a robust local fallback so the Photos section always shows at least one valid image even if preloaded photos fail.",
      "acceptanceCriteria": [
        "If any preloaded photo URL fails to load, the UI gracefully continues and still displays at least one image using a bundled fallback asset.",
        "The Photos section never renders an empty/broken state solely due to missing preloaded assets."
      ],
      "file_operations": [
        {
          "path": "frontend/src/components/PhotosSection.tsx",
          "operation": "modify",
          "description": "Add error-handling for image loading (main slide and thumbnails) to swap failed URLs to a locally bundled fallback image at /assets/generated/fallback-anime-watercolor.dim_1920x1080.png and ensure at least one displayable image remains if preloaded assets fail."
        }
      ]
    },
    {
      "id": "REQ-6",
      "summary": "Place newly generated images under frontend/public/assets/generated and reference them directly from the frontend for the fallback behavior.",
      "acceptanceCriteria": [
        "Generated image files are placed in frontend/public/assets/generated.",
        "The fallback image requirement (REQ-5) uses the generated asset via a direct /assets/generated/... URL."
      ],
      "file_operations": [
        {
          "path": "frontend/public/assets/generated/fallback-anime-watercolor.dim_1920x1080.png",
          "operation": "create",
          "description": "Add the generated fallback image as a static public asset at the exact path frontend/public/assets/generated/fallback-anime-watercolor.dim_1920x1080.png so it can be referenced directly by the Photos fallback logic."
        },
        {
          "path": "frontend/src/components/PhotosSection.tsx",
          "operation": "modify",
          "description": "Wire the fallback image URL /assets/generated/fallback-anime-watercolor.dim_1920x1080.png into the Photos section rendering and load-error handling so it is used as the local bundled fallback."
        }
      ]
    }
  ]
}